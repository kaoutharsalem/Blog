<!DOCTYPE html>
<html>
  <head>
    <title>Blog</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag "https://cdn.tailwindcss.com" %>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              clifford: '#f0e1de',
            }
          }
        }
      }
    </script>
    <style>
        html, body {
          height: 100%;
          margin: 0;
          padding: 0;
        }

        main {
          max-height: 100%; 
        }
    </style> 
  </head>

  <body class="bg-rose-200 bg-cover" style="background-image: url(https://img.freepik.com/photos-premium/fleurs-roses-fond-rose_893755-563.jpg); background-repeat: no-repeat;">
    <main class="mx-auto rounded-lg w-full">
      <nav class="bg-rose-100 text-neutral-800 dark:bg-neutral-600 dark:text-neutral-200 border-gray-200 dark:border-rose-300 w-full">
        <div class="max-w-screen-xl flex items-center justify-between mx-auto p-2">
          <div>
            <a href="#" class="flex items-center">
              <img src="https://i.pinimg.com/736x/c2/b8/02/c2b802d0a844bcbf2e56ac54ae36f83b.jpg" class="image-sans-bg h-14 rounded-full"/>
              <span class="self-center text-xl font-semibold whitespace-nowrap text-rose-500">  PrimaRosa</span>
            </a>
          </div>
          <div class="flex items-center md:space-x-0 ">
           <ul class="flex flex-col md:flex-row md:space-x-8  items-center">
              <li>
                <%= link_to "home", root_path,class:"block py-2 px-3 text-rose-500 hover:bg-pink-200 font-semibold whitespace-nowrap text-lg "%>
              </li>
              <li>
                <%= link_to 'Contact' , articles_contact_path ,class:"block py-2 px-3 text-rose-500 hover:bg-pink-200 font-semibold whitespace-nowrap text-lg " %>
              </li>
            </ul>
           <% if user_signed_in? %>
            <ul class="flex flex-col md:flex-row md:space-x-8  items-center">
              <li>
                <%= link_to 'Articles' , articles_path ,class:"block py-2 px-3 text-rose-500 hover:bg-pink-200 font-semibold whitespace-nowrap text-lg "%>
              </li>
              <li>
              <%= link_to "New Article", new_article_path,class:"block py-2 px-3 text-rose-500 hover:bg-pink-200 font-semibold whitespace-nowrap text-lg "%>
              </li>
            </ul>
            <% else %>
              <ul class="flex flex-col md:flex-row md:space-x-8  items-center">
                  <li>
                    <%= link_to "Sign Up", new_user_registration_path,class:"block py-2 px-3 text-rose-500 hover:bg-pink-200 font-semibold whitespace-nowrap text-lg "%>
                  </li>
                  <li>
                    <%= link_to "Sign In", new_user_session_path,class:"block py-2 px-3 text-rose-500 hover:bg-pink-200 font-semibold whitespace-nowrap text-lg "%>
                  </li>
              </ul>
            <% end %>
          </div>
          <% if user_signed_in? %>
            <div class="flex items-center dropdown">
              <%= image_tag current_user.image, class:"image-sans-bg h-14 w-14 rounded-full mr-2"%> 
            <div class="relative w-full group">
              <button class=" max-w-7xl  hover:text-pink-900  text-rose-500  py-2.5 px-3 w-full text-site bg-transparent border border-dimmed  focus:border-brand focus:outline-none focus:ring-0 peer flex items-center justify-between rounded font-semibold whitespace-nowrap text-lg "><%= current_user.first_name%></button>
              <div class="absolute z-[99] top-[100%] left-[50%] translate-x-[-50%] rounded-md overflow-hidden shadow-lg min-w-[200px] w-max peer-focus:visible peer-focus:opacity-100 opacity-0 invisible duration-200 p-1 bg-gray-100 dark:bg-gray-800  border border-dimmed text-xs md:text-sm">
                <div class=" w-full block cursor-pointer hover:bg-white dark:hover:bg-gray-900 dark:bg-gray-800 hover:text-link px-3 py-2 rounded-md">
                  <%= link_to "Log Out", destroy_user_session_path,method: :delete,class:"block py-2 px-3 text-rose-500 hover:bg-pink-200 font-semibold whitespace-nowrap"%>
                </div>
                <div class=" w-full block cursor-pointer hover:bg-white dark:hover:bg-gray-900 dark:bg-gray-800 hover:text-link px-3 py-2 rounded-md">
                  <%= link_to "Edit Profile", edit_user_registration_path,class:"block py-2 px-3 text-rose-500 hover:bg-pink-200 font-semibold whitespace-nowrap"%>
                </div>
            </div>
            </div>
          <% end %>
     </nav>
     <%= yield %>
    </main>
  </body>
</html>
